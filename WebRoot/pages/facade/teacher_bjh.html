<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset="utf-8" /> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
	
	<script src="../scripts/jquery/jquery.min.js"></script>
	<script src="../scripts/jquery/jquery.browser.js"></script>
    
    <link href="../scripts/css/framework.css" rel="stylesheet" />
    <script src="../scripts/js/framework.js"></script>
    <script src="../scripts/js/validator.js"></script>
      
    <script src="../scripts/jquery-ui/jquery-ui.min.js"></script>
    <script src="../scripts/jqGrid/js/jquery.jqGrid.min.js"></script>
    <script src="../scripts/jqGrid/js/i18n/grid.locale-cn.js"></script>
    <link href="../scripts/jqGrid/css/ui.jqgrid.css" rel="stylesheet" />
    <link href="../scripts/jquery-ui/jquery-ui.min.css" rel="stylesheet"/>

	<script src="../scripts/jquery/jquery.cookie.js"></script>   
    <script type="text/javascript">
	     $(document).ready(function () { Loadlayout();});
	</script>
</head>
<body>
<script>
function a2(where){
	$("#table1").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_lcddjh", where:where}, 
    	}).trigger('reloadGrid');
}
function a(where){
	 $("#table1").jqGrid({
         url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
         postData:{tableName:"bjh_lcddjh", where:where}, 
     	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
         datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
         height: 614,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
         
         //autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
         colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
             //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
             {label: "序号", name: 'zj', index: 'zj', width: 1, hidden: true},
             {label: "方向", name: 'fx', index: 'fx', width: 40,editable:true,sortable: false},
             {label: "车次", name: 'cc', index: 'cc', width: 48,editable:true,sortable: false},
             {label: "到达<br/>时刻", name: 'ddsk', index: 'ddsk', width: 54,editable:true,sortable: false},
             {label: "甲及<br/>以远", name: 'dd401', index: 'dd401', width: 42,editable:true,sortable: false},
             {label: "本站<br/>甲间", name: 'dd402', index: 'dd402', width: 45,editable:true,sortable: false},
             {label: "乙及<br/>以远", name: 'dd403', index: 'dd403', width: 42,editable:true,sortable: false},
             {label: "本站<br/>乙间", name: 'dd404', index: 'dd404', width: 45,editable:true,sortable: false},
             {label: "丙及<br/>以远", name: 'dd405', index: 'dd405', width: 42,editable:true,sortable: false},
             {label: "本站<br/>丙间", name: 'dd406', index: 'dd406', width: 45,editable:true,sortable: false},
             {label: "丁及<br/>以远", name: 'dd407', index: 'dd407', width: 42,editable:true,sortable: false},
             {label: "本站<br/>丁间", name: 'dd408', index: 'dd408', width: 45,editable:true,sortable: false},
             {label: "戊及<br/>以远", name: 'dd409', index: 'dd409', width: 42,editable:true,sortable: false},
             {label: "己及<br/>以远", name: 'dd410', index: 'dd410', width: 42,editable:true,sortable: false},
             {label: "空车", name: 'kc', index: 'kc', width: 40,editable:true,sortable: false},
             {label: "本站<br/>卸车", name: 'dd411', index: 'dd411', width: 45,editable:true,sortable: false},
             {label: "合计", name: 'hj', index: 'hj', width: 45,editable:true,sortable: false},
             
  		],
  	    contentType : 'application/json',
  	    viewrecords: true,//是否要显示总记录数
         rowNum: "25",//每页显示记录数，设为-1则禁用此检查
         //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
         rowList: [10, 25, 50,100],//可调整每页显示的记录数 
         rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
         sortname: 'zj',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
         sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
          //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
         shrinkToFit: false,
         //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
         gridview: true,
         //cellattr: function(rowId, tv, rawObject, cm, rdata) {
        	   //合并单元格
        	//   return 'id=\'id' + rowId + "\'";
        	//}
         loadComplete:function(){
        	 
        	 $("#table1").css("text-align", "center");
        	 var dataRow1 = {
                     "zj" : "",
                     "fx" : "",
                     "cc" : "",
                     "ddsk" : "",
                     "dd401" : "",
                     "dd402" : "",
                     "dd403" : "",
                     "dd404" : "",
                     "dd405" : "",
                     "dd406" : "",
                     "dd407" : "",
                     "dd408" : "",
                     "dd409" : "",
                     "dd410" : "",
                     "kc" : "",
                     "dd411" : "",
                     "hj" : "",
              };
              var count = $("#table1").getGridParam("reccount");//当前有几行
              while(count<24){
            	  count+=1;
            	  $("#table1").jqGrid("addRowData", count+1, dataRow1, "last");
            	  
           	  }
              MergerColspan('table1',100, 'id','fx'); 
		$("td").css("text-align", "center");
		change();
         },
        jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"center", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		     
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
          //ondblClickRow: function(){	btn_detail(); },
		     
	     });
	jQuery("#table1").jqGrid('setGroupHeaders', {
        useColSpanStyle: true, 
        groupHeaders:[
        {startColumnName: 'fx', numberOfColumns: 16, titleText: '列车到达计划'},
        ]  
      });
	function MergerColspan(gridName,rowId,id,CellName) {
	
	$("#" + gridName + "").setCell(rowId, id, '', { display: 'none' });
	$("#" + CellName + "" + rowId + "").attr("colspan", 3);	
	}
}
	 
function b2(where){
	$("#table2").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_lccfjh", where:where}, 
    	}).trigger('reloadGrid');
}
function b(where){
	 $("#table2").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_lccfjh", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        height: 614,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
        //autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            {label: "序号", name: 'zj', index: 'zj', width: 1, hidden: true},
            {label: "方向", name: 'fx', index: 'fx', width: 50,sortable: false},
            {label: "车次", name: 'cc', index: 'cc', width: 60,sortable: false},
            {label: "出发时刻", name: 'cfsk', index: 'cfsk', width: 70,sortable: false},
            {label: "编组内容<br/>及车流来源", name: 'bncl', index: 'bncl', width: 70,sortable: false},
            {label: "合计", name: 'hj', index: 'hj', width: 60,sortable: false},
            
            //{label: "车数", name: 'cheshu', index: 'cheshu', width: 30},
            //{label: "车辆信息", name: 'clsj', index: 'clsj', width: 12}, //formatter: editLink}
          
 		],
 	    contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        sortname: 'zj',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: false,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        loadComplete:function(){
        	$("td").css("text-align", "center");
        
        	var dataRow2 = {
					"zj" : "",
                    "fx" : "",
                    "cc" : "",
                    "cfsk" : "",
                    "bncl" : "",
                    "hj" : "",
                    
             };
             
             var count = $("#table2").getGridParam("reccount");//当前有几行
             while(count<24){
           	    count+=1;
           	    $("#table2").jqGrid("addRowData", count, dataRow2, "last");
             } 
	     change2();
        },
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"left", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     
	     });
	 jQuery("#table2").jqGrid('setGroupHeaders', {
	        useColSpanStyle: true, 
	        groupHeaders:[
	        {startColumnName: 'fx', numberOfColumns: 5, titleText: '列车出发计划'},
	        ]  
	      });
}

function c2(where){
	$("#table3").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_tsztsj", where:where}, 
    	}).trigger('reloadGrid');
}
function c(where){
	$("#table3").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_tsztsj", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        //height: $(window).height()*0.465,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
		height: 363,
        //autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            {label: "序号", name: 'zj', index: 'zj', width: 1, hidden: true},
            {label: "时间", name: 'sj', index: 'sj', width: 70,sortable: false},
            {label: "到<br>达", name: 'zsdd', index: 'zsdd', width: 40,sortable: false},
            {label: "出<br>发", name: 'zscf', index: 'zscf', width: 40,sortable: false},
            {label: "结<br>存", name: 'zsjc', index: 'zsjc', width: 40,sortable: false},
            {label: "到<br>达", name: 'ztdd', index: 'ztdd', width: 40,sortable: false},
            {label: "出<br>发", name: 'ztcf', index: 'ztcf', width: 40,sortable: false},
            {label: "结<br>存", name: 'ztjc', index: 'ztjc', width: 40,sortable: false},
 		],
 		
 	    contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        sortname: 'zj',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: true,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"center", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		     loadComplete:function(){
		        	$("td").css("text-align", "center");
		     }
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     
	     });
	//$("#identity“）.jqGrid("setGridHeight", 200);
	jQuery("#table3").jqGrid('setGroupHeaders', {
        useColSpanStyle: true, 
        groupHeaders:[
        {startColumnName: 'zsdd', numberOfColumns: 3, titleText: '计划中时'},
        {startColumnName: 'ztdd', numberOfColumns: 3, titleText: '计划停时'},
 
        //{startColumnName: 'zaiz', numberOfColumns: 2, titleText: 'Shiping'}
        ]  
      });

}

function d2(where){
	$("#table4").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_zts", where:where}, 
    	}).trigger('reloadGrid');
}
function d(where){
	$("#table4").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_zts", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        //height: $(window).height()*0.031,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
        height: $(window).height() - 100,
        //autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            //{label: "中停时", name: 'zts', index: 'zts', width: 55,sortable: false},
            {label: "中转车数", name: 'zzcs', index: 'zzcs', width: 93,sortable: false},
            {label: "中时", name: 'zs', index: 'zs', width: 67,sortable: false},
            {label: "作业次数", name: 'zycs', index: 'zycs', width: 93,sortable: false},
            {label: "停时", name: 'ts', index: 'ts', width: 67,sortable: false},
          
 		],
 		loadComplete:function(){
 			var dataRow4 = {
 		             "zts" : "",
 		             "zzcs" : "",
 		             "zs" : "",
 		             "zycs" : "",
 		             "ts" : "",      
 		    };
 		    $("#table4").jqGrid("addRowData", '-4', dataRow4, "first");
 		   $("#table4").jqGrid('setLabel','rn', '序号', {'text-align':'center','vertical-align':'middle'},'');
 		},
 	    contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: true,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        sortname: 'gdjm',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: false,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"left", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     
	     });
	
}
	
function e2(where){
	$("#table5").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_pkjh", where:where}, 
    	}).trigger('reloadGrid');
}
function e(where){
	$("#table5").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_pkjh", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        //height: $(window).height()*0.13,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
        height: 100,
       // autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            {label: "序号", name: 'zj', index: 'zj', width: 1, hidden: true},
            {label: "车种", name: 'cz', index: 'cz', width: 50,sortable: false},
            {label: "车数", name: 'cs', index: 'cs', width: 50,sortable: false},
            {label: "排空车次", name: 'pkcc', index: 'pkcc', width: 68,sortable: false},
            {label: "空车来源", name: 'kcly', index: 'kcly', width: 68,sortable: false},
          
 		],
 		loadComplete:function(){
			$("td").css("text-align", "center");
 			var dataRow5 = {
 		            "zj" : "", 
 					"cz" : "",
 		             "cs" : "",
 		             "pkcc" : "",
 		             "kcly" : "",
 		                
 		     };
 		     //$("#table5").jqGrid("addRowData", '-5', dataRow5, "first");
 		    var count = $("#table5").getGridParam("reccount");//当前有几行
            while(count<4){
          	  	count+=1;
      	  		$("#table5").jqGrid("addRowData", count+1, dataRow5, "last");
         	  }
           
 		},
 	    contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        sortname: 'pkcc',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: false,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"left", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     
	     });
	jQuery("#table5").jqGrid('setGroupHeaders', {
        useColSpanStyle: true, 
        groupHeaders:[
        {startColumnName: 'cz', numberOfColumns: 4, titleText: '排空计划'},
 
        //{startColumnName: 'zaiz', numberOfColumns: 2, titleText: 'Shiping'}
        ]  
      });
}
	
function f2(where){
	$("#table6").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_xcjh", where:where}, 
    	}).trigger('reloadGrid');
}
function f(where){
	$("#table6").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_xcjh", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        //height: $(window).height()*0.22,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
 		height: 208,
 		width: 600,
        //autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            {label: "序号", name: 'zj', index: 'zj', width: 1, hidden: true},
            {label: "卸车<br>地点", name: 'xcdd', index: 'xcdd', width: 50,sortable: false,align: 'center'},
            {label: "车种", name: 'cz', index: 'cz', width: 50,sortable: false},
            {label: "车数", name: 'cs', index: 'cz', width: 50,sortable: false},
            {label: "到达<br>车次", name: 'ddcc', index: 'ddcc', width: 50,sortable: false},
            {label: "卸后<br>安排", name: 'xhap', index: 'xhap', width: 50,sortable: false},
            {label: "装车<br>地点", name: 'zcdd', index: 'zcdd', width: 50,sortable: false},
            {label: "去向", name: 'qx', index: 'qx', width: 47,sortable: false},
            {label: "车种", name: 'cz2', index: 'cz2', width: 47,sortable: false},
            {label: "车数", name: 'cs2', index: 'cs2', width: 47,sortable: false},
            {label: "空车<br>来源", name: 'kcly', index: 'kcly', width: 50,sortable: false},
            {label: "挂运<br>车次", name: 'gycc', index: 'gycc', width: 50,sortable: false},
            //{label: "车数", name: 'cheshu', index: 'cheshu', width: 30},
            //{label: "车辆信息", name: 'clsj', index: 'clsj', width: 12}, //formatter: editLink}
          
 		],
 		loadComplete:function(){
 			var dataRow6 = {
 		            "zj" : "", 
 					"xcdd" : "",
 		             "cz" : "",
 		             "cs" : "",
 		             "ddcc" : "",
 		             "xhap" : "",
 		             "zcdd" : "",
 		             "qx" : "",
 		             "cz" : "",
 		             "cs" : "",
 		             "kcly" : "",
 		             "gycc" : "",
 		             
 		      };
 		      $("#table6").jqGrid("addRowData", '-6', dataRow6, "first");
 		     var count = $("#table6").getGridParam("reccount");//当前有几行
             while(count<8){
            	count+=1;
       	  		$("#table6").jqGrid("addRowData", count+1, dataRow6, "last");
          	  }
 		},
 	    contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        sortname: 'cs',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: false,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"left", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     
	     });
	jQuery("#table6").jqGrid('setGroupHeaders', {
        useColSpanStyle: true, 
        groupHeaders:[
        {startColumnName: 'xcdd', numberOfColumns: 5, titleText: '卸车计划'},
        {startColumnName: 'zcdd', numberOfColumns: 6, titleText: '装车计划'},
 
        //{startColumnName: 'zaiz', numberOfColumns: 2, titleText: 'Shiping'}
        ]  
      });
}

function g2(where){
	$("#table7").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_bgzzrw", where:where}, 
    	}).trigger('reloadGrid');
}
function g(where){
	$("#table7").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_bgzzrw", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        //height: $(window).height()*0.03,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
       height: 24,
       // autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            {label: "序号", name: 'zj', index: 'zj', width: 1, hidden: true},
            {label: "到达<br>列数", name: 'ddls', index: 'ddls', width: 38,sortable: false},
            {label: "出发<br>列数", name: 'cfls', index: 'cfls', width: 38,sortable: false},
            {label: "解体<br>列数", name: 'jtls', index: 'jtls', width: 38,sortable: false},
            {label: "编组<br>列数", name: 'bzls', index: 'bzls', width: 38,sortable: false},
            {label: "中转<br>车数", name: 'zzcs', index: 'zycs', width: 37,sortable: false},
            {label: "作业<br>次数", name: 'zycs', index: 'zycs', width: 37,sortable: false},
          
 		],
 	    contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        sortname: 'ddls',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: false,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"left", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     loadComplete:function(){
		        	$("td").css("text-align", "center");
		     }, 
	     });
	jQuery("#table7").jqGrid('setGroupHeaders', {
        useColSpanStyle: true, 
        groupHeaders:[
        {startColumnName: 'ddls', numberOfColumns: 6, titleText: '班工作总任务'},
        ]  
      });
}
	
function h2(where){
	$("#table8").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_bgzzrw", where:where}, 
    	}).trigger('reloadGrid');
}
function h(where){
	$("#table8").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_bgzzrw", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        //height: $(window).height()*0.03,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
        height: 24,
        //autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            {label: "卸车数", name: 'xcs', index: 'xcs', width: 38,sortable: false},
            {label: "装车数", name: 'zcs', index: 'zcs', width: 38,sortable: false},
            {label: "排空数", name: 'pks', index: 'pks', width: 38,sortable: false},
            {label: "办理数", name: 'blcs', index: 'blcs', width: 38,sortable: false},
            {label: "中时", name: 'zs', index: 'zs', width: 37,sortable: false},
            {label: "停时", name: 'ts', index: 'ts', width: 37,sortable: false},
 		],
 	    contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        sortname: 'zs',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: false,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        fitColumns :true,
 	    scrollbarSize:0,
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"left", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     loadComplete:function(){
		        	$("td").css("text-align", "center");
		     }, 
	     });
}
	
function i2(where){
	$("#table9").jqGrid('setGridParam',{
		url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_bgzzrw", where:where}, 
    	}).trigger('reloadGrid');
}
function i(where){
	$("#table9").jqGrid({
        url: RootPath()+ "/initSamSystem.do",//?KeyValue=" + KeyValue,
        postData:{tableName:"bjh_bgzzrw", where:where}, 
    	 mtype : "POST",//ajax提交方式。POST或者GET，默认GET
        datatype: "json",//从服务器端返回的数据类型，默认xml。可选类型：xml，local，json，jsonnp，script，xmlstring，jsonstring，clientside
        //height: $("#biao1").height()*0.17,//无工具条是的值是132。表格高度，可以是数字，像素值或者百分比。
        height: 98,
        //autowidth: true,//ture时，则当表格在首次被创建时会根据父元素比例重新调整表格宽度
        colModel:[//对显示列属性的设置，是一个数组对象。, hidden: true align: 'center',
            //{label: "车站名称", name: 'ZMLM', index: 'ZMLM', width: 100, hidden: true},
            {label: "重点指示", name: 'zdts', index: 'zdts', width: 251,height:251,sortable: false},
           
          
 		],
 		fitColumns :true,
 	    scrollbarSize:0,
 		contentType : 'application/json',
 	    viewrecords: true,//是否要显示总记录数
        rowNum: "25",//每页显示记录数，设为-1则禁用此检查
        //用来调整表格显示的记录数，此参数值会替代rowNum参数值传给服务器端。如果为空则不显示
        rowList: [10, 25, 50,100],//可调整每页显示的记录数 
        rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号，从1开始递增。此列名为'rn'.
        //sortname: 'zdts',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
        //sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
         //说明当初始化列宽度时候的计算类型，如果为ture，则按比例初始化列宽度。如果为false，则使用colModel指定的宽度
        shrinkToFit: false,
        //构造一行数据后添加到grid中，如果设为true则是将整个表格的数据都构造完成后再添加到grid中
        gridview: true,
        
       jsonReader : {//设置解析从Server端发回来的json数据。其默认值为：
		         id: "id", //行id，相当于设置主键
		         root:"rows", //数据行.默认为rows; Json数据:JsonArray. 
		       	 page: "page", //当前页  
		         total: "total", //总页数
		         records: "records", //查询出来的记录数 
		         //设置成false，在后台设置值的时候，可以乱序。且并非每个值都得设,而所使用的name是来自于colModel中的name设定。   
		         repeatitems : false 
		     },
		     page:1,//初始显示第几页
		     pager: "#gridPager",//分页工具栏
		     pagerpos: "center",//指定分页栏的位置left
		     pgbuttons:true, //是否显示翻页按钮
		     //pginput:true, //是否显示跳转页面的输入框
		     recordpos:	"left", //定义记录信息的位置： left, center, right
		     
		     //用于设置jqGrid将要向Server传递的参数名称。其默认值为：
		     prmNames:{
			    page:"page",// 表示请求页码的参数名称  
			    rows:"rows", // 表示请求行数的参数名称  
			    totalrows:"totalrows", // 表示需从Server得到总共多少行数据的参数名称   
			    sort: "sidx", // 表示用于排序的列名的参数名称
				order: "sord" // 表示采用的排序方式的参数名称
		     }, 
		
		     //rowStyler: function(index, record) {
	         //       if(record.gdjm){
	         //            return "style='font-size:20px'"; 
	         //       },
		     //onSelectRow : function(id) {    },
         //ondblClickRow: function(){	btn_detail(); },
		     loadComplete:function(){
		        	$("td").css("text-align", "center");
		     }, 
	     });
}
var stnum = $.cookie("USERNAME");
var selectData = {};
var testname = "";
$(document).ready(function(){
	getTestName();
	var where = "(stnum = '" + stnum + "') AND (testname = '" + testname + "')";
	a(where);
	b(where);
	c(where);
	//d(where);
	e(where);
	f(where);
	g(where);
	h(where);
	i(where);
	
	$("#table1").attr("contenteditable",true);
	$("#table2").attr("contenteditable",true);
	$("#table3").attr("contenteditable",true);
	$("#table4").attr("contenteditable",true);
	$("#table5").attr("contenteditable",true);
	$("#table6").attr("contenteditable",true);
	$("#table7").attr("contenteditable",true);
	$("#table8").attr("contenteditable",true);
	$("#table9").attr("contenteditable",true);
	$("#table1 tr").eq(0).attr("contenteditable",false);
	$("#table2 tr").eq(0).attr("contenteditable",false);
	$("#table3 tr").eq(0).attr("contenteditable",false);
	$("#table4 tr").eq(0).attr("contenteditable",false);
	$("#table5 tr").eq(0).attr("contenteditable",false);
	$("#table6 tr").eq(0).attr("contenteditable",false);
	$("#table7 tr").eq(0).attr("contenteditable",false);
	$("#table8 tr").eq(0).attr("contenteditable",false);
	$("#table9 tr").eq(0).attr("contenteditable",false);
	$("#table1 tr").eq(3).attr("background-color","blue");
	

	/* var dataRow7 = {
             "t1" : "16",
             "t2" : "17",
             "t3" : "8",
             "t4" : "9",
	     "t5" : "816",
	     "t6" : "99",
    };
    $("#table7").jqGrid("addRowData", '-7', dataRow7, "first");
    var dataRow8 = {
             "tr1" : "60",
             "tr2" : "39",
             "tr3" : "20",
             "tr4" : "1761",
	     "tr5" : "2.2",
	     "tr6" : "6.8", 
     };
     $("#table8").jqGrid("addRowData", '-8', dataRow8, "first");
     var dataRow4 = {
	             "zts" : "",
	             "zzcs" : "",
	             "zs" : "",
	             "zycs" : "",
	             "ts" : "",      
	  }; */
	  
});


</script>
<style>
.ui-jqgrid .ui-jqgrid-bdiv{ overflow: hidden;} 
#table1.ui-row-ltr{
height:160px !important;
}
#table1{
text-align:right;
}
#table9 td{
	height:95px;
}
#biao1{
	height:650px;
	width:784.5px;
	float:left;

}
#biao2{

	width:335.5px;
	float:left;
}
#biao3{
	width:327px;
	float:left;
}
#biao4{
	width:300px;
	float:left;
}
#biao5{

	width:200px;
	float:left;
}
#zhedang{
	width:20px;
	
	background-color:blue;
	height:100px;
}
button{
	width:8 rem;
}
.t1{
	//background:blue;
	height:28rem;
	width:100%;
	float:left;
}
.t2{
	//background:green;
	height:18rem;
	width:100%;
	float:left;
}
.t3{
	//background:red;
	height:4rem;
	width:100%;
	float:left;
}

.t4{
	//background:orange;
	height:14rem;
	width:100%;
	float:right;
}
.t5{
	//background:black;
	height:15rem;
	width:100%;
	float:left;
}
.table11_6 table {
	width: 100%;
	margin: 15px 0;
	border: 0;
	border-collapse: collapse;
	
	writing-mode : lr-tb；
}

.table11_6 th {
	//background-color: #96C7ED;
	color: #000000
}

.table11_6 td {
	overflow: hidden;
	width: 0.125rem;
	height: 0.125rem;
}

.table11_6,
.table11_6 th,
.table11_6 td {
	font-size: 0.95 em;
	text-align: center;
	padding: 4px;

}

.table11_6 th,
.table11_6 td {
	border: 0.5px solid #e7e7e7;
	border-width: 1px 0 1px 0;
	border: 1px inset #ffffff;
}

.table11_6 tr {
	border: 0.5px solid #e7e7e7;
	//background-color: #ffffff;
	height: 20%;
	overflow: hidden;
}
.button.small{
  padding: 4px 12px;
}
.button::-moz-focus-inner{
  border: 0;
  padding: 0;
}

.button{
  display: inline-block;
  *display: inline;
  zoom: 1;
  padding: 6px 20px;
  margin: 0;
  cursor: pointer;
  border: 1px solid #bbb;
  overflow: visible;
  font: bold 13px arial, helvetica, sans-serif;
  text-decoration: none;
  white-space: nowrap;
  color: #555;
  
  background-color: #ddd;
  background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(255,255,255,1)), to(rgba(255,255,255,0)));
  background-image: -webkit-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
  background-image: -moz-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
  background-image: -ms-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
  background-image: -o-linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
  background-image: linear-gradient(top, rgba(255,255,255,1), rgba(255,255,255,0));
  
  -webkit-transition: background-color .2s ease-out;
  -moz-transition: background-color .2s ease-out;
  -ms-transition: background-color .2s ease-out;
  -o-transition: background-color .2s ease-out;
  transition: background-color .2s ease-out;
  background-clip: padding-box; /* Fix bleeding */
  -moz-border-radius: 3px;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, .3), 0 2px 2px -1px rgba(0, 0, 0, .5), 0 1px 0 rgba(255, 255, 255, .3) inset;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .3), 0 2px 2px -1px rgba(0, 0, 0, .5), 0 1px 0 rgba(255, 255, 255, .3) inset;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .3), 0 2px 2px -1px rgba(0, 0, 0, .5), 0 1px 0 rgba(255, 255, 255, .3) inset;
  text-shadow: 0 1px 0 rgba(255,255,255, .9);
  
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.button:hover{
  background-color: #eee;
  color: #555;
}

.button:active{
  background: #e9e9e9;
  position: relative;
  top: 1px;
  text-shadow: none;
  -moz-box-shadow: 0 1px 1px rgba(0, 0, 0, .3) inset;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, .3) inset;
  box-shadow: 0 1px 1px rgba(0, 0, 0, .3) inset;
}
th.ui-th-column div{
    white-space:normal !important;
    height:auto !important;
    padding:0px;
}
.ui-widget-content .ui-state-highlight,.ui-widget-header .ui-state-highlight{border:none #dddddd;background:#FFFFFF;color:#000000}.ui-state-highlight a
</style>

<div id="header">
<!-- h1 align="center" style="font-size:20px">班计划大表编制</h1>
<br-->
<br/>
<p align="center">
<form action="bjh.jsp" method="post" align="center">
<input style="display: none"name="zj" id="sub1"/>
<input style="display: none"name="fx" id="s1"/>
<input style="display: none"name="cc" id="s2"/>
<input style="display: none"name="ddsk" id="s3"/>
<input style="display: none"name="d1" id="D1"/>
<input style="display: none"name="d2" id="D2"/>
<input style="display: none"name="d3" id="D3"/>
<input style="display: none"name="d4" id="D4"/>
<input style="display: none"name="d5" id="D5"/>
<input style="display: none"name="d6" id="D6"/>
<input style="display: none"name="d7" id="D7"/>
<input style="display: none"name="d8" id="D8"/>
<input style="display: none"name="d9" id="D9"/>
<input style="display: none"name="d10" id="D10"/>
<input style="display: none"name="d11" id="D11"/>
<input style="display: none"name="kc" id="KC"/>
<input style="display: none"name="hj" id="HJ"/>
<input style="display: none"name="SU1" id="SU1"/>
<input style="display: none"name="SU2" id="SU2"/>
<input style="display: none"name="SU3" id="SU3"/>
<input style="display: none"name="SU4" id="SU4"/>
<input style="display: none"name="SU5" id="SU5"/>
<input style="display: none"name="SJ" id="SJ"/>
<input style="display: none"name="ZTDD" id="ZTDD"/>
<input style="display: none"name="ZTCF" id="ZTCF"/>
<input style="display: none"name="ZTJC" id="ZTJC"/>
<input style="display: none"name="ZSDD" id="ZSDD"/>
<input style="display: none"name="ZSCF" id="ZSCF"/>
<input style="display: none"name="ZSJC" id="ZSJC"/>
<input style="display: none"name="ZTS" id="ZTS"/>
<input style="display: none"name="ZZCS" id="ZZCS"/>
<input style="display: none"name="ZS" id="ZS"/>
<input style="display: none"name="ZYCS" id="ZYCS"/>
<input style="display: none"name="TS" id="TS"/>
<input style="display: none"name="DDLS" id="DDLS"/>
<input style="display: none"name="CFLS" id="CFLS"/>
<input style="display: none"name="JTLS" id="JTLS"/>
<input style="display: none"name="BZLS" id="BZLS"/>
<input style="display: none"name="XCS" id="XCS"/>
<input style="display: none"name="ZCS" id="ZCS"/>
<input style="display: none"name="PKS" id="PKS"/>
<input style="display: none"name="BLCS" id="BLCS"/>
<input style="display: none"name="ZDZS" id="ZDZS"/>
<input style="display: none"name="CZ" id="CZ"/>
<input style="display: none"name="CS" id="CS"/>
<input style="display: none"name="PKCC" id="PKCC"/>
<input style="display: none"name="KCLY" id="KCLY"/>
<input style="display: none"name="XCDD" id="XCDD"/>
<input style="display: none"name="CZ1" id="CZ1"/>
<input style="display: none"name="CS1" id="CS1"/>
<input style="display: none"name="DDCC" id="DDCC"/>
<input style="display: none"name="XHAP" id="XHAP"/>
<input style="display: none"name="ZCDD" id="ZCDD"/>
<input style="display: none"name="QX" id="QX"/>
<input style="display: none"name="KCLY1" id="KCLY1"/>
<input style="display: none"name="GYCC" id="GYCC"/>
<input style="display: none"name="CZ2" id="CZ2"/>
<input style="display: none"name="CS2" id="CS2"/>
<!-- button type="submit" class="small button" onclick="save()">保存</button-->
<table class="form-find" style="boder: 0px; height: 40px;">
	<tr>
		<th class="formTitleLong" style="font-size: 16px;">实训名称：</th>
	    <td class="formValue"><select style="height: 26px; font-size: 16px; margin-top: 3px; border-radius:6px;" id="textname" class="txtselect" onchange="change_text()"></select></td>
	    <td><button type="button" class="small button" onclick="save()">保存</button></td>
	    <td><input id="btnInsert" type="button" class="btnSearch" value="导入固定模板" onclick="btn_Insert()" /> </td>
	</tr>
</table> 
</form>
<!-- br>
<script>
setInterval("document.getElementById('time').innerHTML=new Date().toLocaleString();", 1000);
</script>
<div  align="left" style="float: left;" id="time">
	<span></span>
</div>

<div align="center">
<span>班级:</span>&nbsp&nbsp&nbsp&nbsp
<span>姓名:</span>&nbsp&nbsp&nbsp&nbsp
<span>学号:</span>&nbsp&nbsp&nbsp&nbsp
<span>实训编号:</span>&nbsp&nbsp&nbsp&nbsp
</div-->
</div>
<!-- div>
<div style="background-color:#f6f6f6;width:43.5%;text-align:center;height:1.5rem;float:left" >
<span style="background-color:#f6f6f6;">列车到达计划</span>
</div>
<div style="width:0.5%;height:1.5rem;float:left">
<span></span>
</div>
<div style="background-color:#f6f6f6;width:20.5%;text-align:center;height:1.5rem;float:left">
<span style="background-color:#f6f6f6;">列车出发计划</span>
</div>
<div style="width:0.5%;height:1.5rem;float:left">
<span></span>
</div>
<div style="background-color:#f6f6f6;width:19.2%;text-align:center;height:1.5rem;float:left">
<span style="background-color:#f6f6f6;">推算中停时间</span>
</div>
<div style="width:0.2%;height:1.5rem;float:left">
<span></span>
</div>
<div style="background-color:#f6f6f6;width:13%	;text-align:center;height:1.5rem;float:left">
<span style="background-color:#f6f6f6;">班工作总任务</span>
</div>
</div>
<!-- div ></div-->

<!-- div style="overflow:scroll"-->
<div style="padding:2px;overflow: auto; width:1800px; margin-bottom: 17px;" id="container">
	<div id="biao1"><table id="table1"></table></div>

	<div id="biao2"><table id="table2"></table></div>

	<div id="biao3" >
		<div><table id="table3"></table></div>
		<div><table id="table4"></table></div>
	</div>
	<div id="biao4">
		<div><table id="table7"></table></div>
		<div><table id="table8"></table></div>
		<div><table id="table9" data-options="fitColumns:true,scrollbarSize:0"></table></div>
		<div><table id="table5"></table></div>
	</div>
	<div id="biao5">
		<table id="table6"></table>
	</div>
	
</div>
<!-- /div-->
<script type="text/javascript">

//获取实验名称
	function getTestName() {
  	var postData = {tableName:"syt_exprimenttime",queryWhere:"status", keyValue:"1", rows:50, page:1}
  	getAjaxJson("/searchSamSystem.do", postData, function (data) {
  		selectData = data;
  		var str = "";//="<option value=''></option>";		//select框第一个选项为空，这样不选择的时候就是空（null）
  		for(var i=0; i<data.records; i++){			//将数据循环插入select框中
  			var obj = data.rows[i];
        	str+="<option value=" + obj['exprimenttime_id'] + ">" + obj['expriment'] + "</option>";
        }
  		testname = data.rows[0]['expriment'];
        $("#textname").html(str);　
       	
    });
}

	//改变实验名称
 	function change_text() {
 		var val = $("#textname").val();
 		testname = selectData.rows[val-1]['expriment'];
 		var where = "(stnum = '" + stnum + "') AND (testname = '" + testname + "')";
 		if (IsCheckedValue(textname)) {
 			a2(where);
 			b2(where);
 			c2(where);
 			//d2(where);
 			e2(where);
 			f2(where);
 			g2(where);
 			h2(where);
 			i2(where);
 		}
	}


function change(){
	var mytable = document.getElementById("table1");
	var data = [];//将表格内容存入到数组中
	for(var i=0,rows=mytable.rows.length; i<rows; i++){
	    for(var j=0,cells=mytable.rows[i].cells.length; j<cells; j++){
	        if(!data[i]){
	            data[i] = new Array();
	        }
	        data[i][j] = mytable.rows[i].cells[j].innerHTML;
	    }
	}
	for(i=0;i<data[1].length;i++){
		data[1][i]=data[1][i].replace(/&nbsp;/,"");
	}
	for(var j=0;j<data.length;j++){
		for(var i=0;i<data[1].length;i++){
			if(data[j][i]=="0")
				mytable.rows[j].cells[i].innerHTML="";
			else if(data[j][i]=="E")
				mytable.rows[j].cells[i].innerHTML="乙";
			else if(data[j][i]=="W")
				mytable.rows[j].cells[i].innerHTML="丙";
			else if(data[j][i]=="N")
				mytable.rows[j].cells[i].innerHTML="甲";
			else if(data[j][i]=="S")
				mytable.rows[j].cells[i].innerHTML="丁";
		}
	}
}
function change2(){
	var mytable = document.getElementById("table2");
	var data = [];//将表格内容存入到数组中
	for(var i=0,rows=mytable.rows.length; i<rows; i++){
	    for(var j=0,cells=mytable.rows[i].cells.length; j<cells; j++){
	        if(!data[i]){
	            data[i] = new Array();
	        }
	        data[i][j] = mytable.rows[i].cells[j].innerHTML;
	    }
	}
	for(i=0;i<data[1].length;i++){
		data[1][i]=data[1][i].replace(/&nbsp;/,"");
	}
	for(var j=0;j<data.length;j++){
		for(var i=0;i<data[1].length;i++){
			
			if(data[j][i]=="E")
				mytable.rows[j].cells[i].innerHTML="乙";
			else if(data[j][i]=="W")
				mytable.rows[j].cells[i].innerHTML="丙";
			else if(data[j][i]=="N")
				mytable.rows[j].cells[i].innerHTML="甲";
			else if(data[j][i]=="S")
				mytable.rows[j].cells[i].innerHTML="丁";
		}
	}
}
function save(){
	var where = "(stnum = '" + stnum + "') AND (testname = '" + testname + "')";
	setTableContent('table1', "bjh_lcddjh", where);
    setTableContent('table2', "bjh_lccfjh", where);
    setTableContent('table3', "bjh_tsztsj", where);
    //setTableContent('table4', "bjh_zts", where);
    setTableContent('table5', "bjh_pkjh", where);
    setTableContent('table6', "bjh_xcjh", where);
    setTableContent2('table7', 'table8', 'table9', "bjh_bgzzrw", where);
}
function setTableContent(ID, tableName, where){
	var ids = $("#" + ID + "").getDataIDs();
	var len = ids.length;
	var data = {}; 
	   
	//首先关闭改行的编辑
	var rowid = $("#" + ID + "").jqGrid("getGridParam","selrow");
	$("#" + ID + "").saveRow(rowid, false);
	
    for(var i=0;i<len;i++){	
    	var rowData = $("#" + ID + "").getRowData(ids[i]);
    	for(var j in rowData){
    		if(IsCheckedValue(rowData[j])){
    			data[i] = $("#" + ID + "").getRowData(ids[i]);
    			break;
    		}
    	}
    }
    //调用后端接口，处理保存数据
    postData = {tableName:tableName, stnum:stnum, testname:testname, where:where, len:len, data:JSON.stringify(data)};
    getAjaxJson("/setBJHSamSystem.do", postData, function (data) {
    	tipDialog(data.Message, 3, data.Code);
    });
}

function setTableContent2(ID1, ID2, ID3, tableName, where){
	var data = {}; 
	var ids = $("#" + ID1 + "").getDataIDs();
	//首先关闭改行的编辑
	$("#" + ID1 + "").saveRow(ids[0], false);
	var obj1 = $("#" + ID1 + "").getRowData(ids[0]);
	
	ids = $("#" + ID2 + "").getDataIDs();
	$("#" + ID2 + "").saveRow(ids[0], false);
	var obj2 = $("#" + ID2 + "").getRowData(ids[0]);
	
	ids = $("#" + ID3 + "").getDataIDs();
	$("#" + ID3 + "").saveRow(ids[0], false);
	var obj3 = $("#" + ID3 + "").getRowData(ids[0]);
	data[0] = Object.assign(obj1, obj2, obj3);
	var len = ids.length;
	
    //调用后端接口，处理保存数据
    postData = {tableName:tableName, stnum:stnum, testname:testname, where:where, len:len, data:JSON.stringify(data)};
    getAjaxJson("/setBJHSamSystem.do", postData, function (data) {
    	tipDialog(data.Message, 3, data.Code);
    });
}

//导入固定模板
function btn_Insert(){
	setModel("bjh_bgzzrw");
	setModel("bjh_lccfjh");
	setModel("bjh_lcddjh");
	setModel("bjh_pkjh");
	setModel("bjh_tsztsj");
	setModel("bjh_xcjh");
	windowload();
	//location.reload();
}

//刷新表格
function windowload() {
   $("#table1").trigger("reloadGrid"); 
   $("#table2").trigger("reloadGrid"); 
   $("#table3").trigger("reloadGrid"); 
   $("#table4").trigger("reloadGrid");
   $("#table5").trigger("reloadGrid"); 
   $("#table6").trigger("reloadGrid");
   $("#table7").trigger("reloadGrid"); 
   $("#table8").trigger("reloadGrid");
   $("#table9").trigger("reloadGrid"); 
}

//复制固定模板数据
function setModel(tableName){
	var postData = {stnum:stnum, testname:testname, tableName:tableName};
	getAjaxJson("/setModelSamSystem.do", postData, function (data) {
		tipDialog(data.Message, 2, data.Code);
   	});
}



 
</script>
</body>
</html>