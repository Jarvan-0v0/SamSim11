<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
         
        <script src="../scripts/jquery/jquery.min.js"></script>
        <script src="../scripts/jquery/jquery.browser.js"></script>
        
        <link rel="stylesheet" href="../scripts/zTree/css/dropmenu.css" type="text/css">
        <link rel="stylesheet" href="../scripts/zTree/css/zTreeStyle/zTreeStyle.css" type="text/css">
        <script type="text/javascript" src="../scripts/zTree/js/jquery.ztree.core.js"></script>
        <script type="text/javascript" src="../scripts/zTree/js/jquery.ztree.excheck.js"></script>
        
        <link href="../scripts/css/framework.css" rel="stylesheet" />
        <script src="../scripts/js/framework.js"></script>
        <script src="../scripts/js/validator.js"></script>
         
        <script src="../scripts/jquery-ui/jquery-ui.min.js"></script>
        <script src="../scripts/jqGrid/js/jquery.jqGrid.min.js"></script>
        <script src="../scripts/jqGrid/js/i18n/grid.locale-cn.js"></script>
        <link href="../scripts/jqGrid/css/ui.jqgrid.css" rel="stylesheet" />
        <link href="../scripts/jquery-ui/jquery-ui.min.css" rel="stylesheet"/>
    
        <link href="../scripts/tree/tree.css" rel="stylesheet" />
        <script src="../scripts/tree/tree.js"></script>
        <script src="../scripts/jquery/splitter.js"></script>
        
        <link href="../scripts/jquery-editable-select/jquery-editable-select.css" rel="stylesheet" />
        <script src="../scripts/jquery-editable-select/jquery-editable-select.min.js"></script>
    
        <script src="../scripts/My97DatePicker/WdatePicker.js"></script>
        <script src="../scripts/jquery/jquery.cookie.js"></script>   
        <script type="text/javascript">
            $(document).ready(function () { Loadlayout();});
        </script>
</head>
<body><div>
<script>
    var gdh;
    $(function () {
    	gdh = GetQuery("gdh");
        
        GetGrid_GuDao(); //股道详细信息
    });
    
     //股道详细信息开始
    function GetGrid_GuDao() {
    	var tableName = $("#tableName").val();
    	 $("#gridTable_GuDao").jqGrid({
            url: RootPath()+ "/searchSamSystem.do",
            postData:{tableName:tableName, queryWhere:"gdh", keyValue:gdh}, 
            datatype: "json",
            height: $(window).height() - 50,
            width: $(window).width() - 20,
           // autowidth: true,
            colModel:[
                {label: "顺位号", name: 'swh', index: 'swh', width: 50},
                {label: "车号", name: 'ch', index: 'ch', width: 80},
                {label: "车种", name: 'cz', index: 'cz', width: 50},
                {label: "自重", name: 'ziz', index: 'ziz', width: 50},
                {label: "换长", name: 'hc', index: 'hc', width: 50},
                {label: "油种", name: 'yz', index: 'yz', width: 50},
                {label: "成组", name: 'chengzu', index: 'chengzu', width: 50},
                {label: "载重", name: 'zaiz', index: 'zaiz', width: 50},
                {label: "到站", name: 'dzm', index: 'dzm', width: 80},
                {label: "方向", name: 'fxh', index: 'fxh', width: 50},
                {label: "到局", name: 'zdj', index: 'zdj', width: 50},
                {label: "品名", name: 'pm', index: 'pm', width: 100},
                {label: "发站", name: 'fzm', index: 'fzm', width: 80},
                {label: "篷布", name: 'pb', index: 'pb', width: 50},
                {label: "记事栏", name: 'jsl', index: 'jsr', width: 200},
                {label: "收货人", name: 'shr', index: 'shr', width: 200}
            ],
            //loadonce: true,
            viewrecords: true,
            rowNum: "500",
            //rowList: [10,15,25,50],
            //pager: "#gridPager_GuDao",
            rownumbers: false,//如果为ture则会在表格左边新增一列，显示行顺序号  
            sortname: 'swh',//默认的排序列。可以是列名称或者是一个数字，这个参数会被提交到后台 'CompanyId,DepartmentId,SortCode',
            sortorder: 'asc',//排序顺序，升序或者降序（asc or desc）
            shrinkToFit: false,
            gridview: true,
            recordpos:"left", //定义记录信息的位置： left, center, right
        });
 
        //表格自适应（高度、宽度）gridTable_tqiaodun
        $(window).resize(function () {
            $("#gridTable_GuDao").jqGrid('setGridWidth', $(window).width() - 20).jqGrid('setGridHeight', $(window).height() - 50);
        });
      
       $("#lr-Girder_brush").click(function () {
           //Replace();
           windowload();
       }); 
     }
       function windowload() {//只刷新本页面
          //$("#gridTable_Girder").trigger("reloadGrid"); //不起作用，原因不明，重新载入
         $("#gridTable_GuDao").jqGrid('setGridParam',{
                url: RootPath()+ "/searchSamSystem.do",
                postData:{tableName:tableName, queryWhere:"gdh", keyValue:gdh}, 
                datatype:'json', 
                page:1
          }).trigger('reloadGrid');  
      }
      
</script>

	<a style="display:none; position: absolute;"><input id="tableName" value="cch_dbzw" ></a>
    <!-- 基本信息 -->
    <div class="rightline">
    	<table id="gridTable_GuDao"></table>
        <!-- <div id="gridPager_GuDao"></div> -->
    </div> 
</body>
</html>